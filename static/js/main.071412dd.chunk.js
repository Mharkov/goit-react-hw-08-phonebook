(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[2],{18:function(t,n,e){t.exports={nav:"Nav_nav__3SFZR",navList:"Nav_navList__1Z5Mu",navListItem:"Nav_navListItem__NxVz5",Link:"Nav_Link__1CjmF",linkFocusColor:"Nav_linkFocusColor__2IpNR"}},19:function(t,n,e){t.exports={TaskEditor:"ContactForm_TaskEditor__2G5aN",TaskEditor_label:"ContactForm_TaskEditor_label__1pB5K",TaskEditor_input:"ContactForm_TaskEditor_input__AW1Gj",TaskEditorinput:"ContactForm_TaskEditorinput__3ZZU5",TaskEditor_button:"ContactForm_TaskEditor_button__HqGcn"}},25:function(t,n,e){"use strict";e.d(n,"d",(function(){return j})),e.d(n,"b",(function(){return l})),e.d(n,"c",(function(){return d})),e.d(n,"a",(function(){return f}));var c=e(17),r=e.n(c),a=e(24),u=e(13),o=e.n(u),i=e(3);o.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var s=function(t){o.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){o.a.defaults.headers.common.Authorization=""},j=function(t){return function(){var n=Object(a.a)(r.a.mark((function n(e){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e(i.k()),n.prev=1,n.next=4,o.a.post("/users/signup",t);case 4:c=n.sent,s(c.data.token),e(i.l(c.data)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),e(i.j(n.t0.message));case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(t){return n.apply(this,arguments)}}()},l=function(t){return function(n){n(i.e()),o.a.post("/users/login",t).then((function(t){var e=t.data;s(e.token),n(i.f(e))})).catch((function(t){return n(i.d(t.message))}))}},d=function(){return function(){var t=Object(a.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(i.h()),t.prev=1,t.next=4,o.a.post("/users/logout");case 4:b(),n(i.i()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(i.g(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(n){return t.apply(this,arguments)}}()},f=function(){return function(t,n){var e=n().auth.token;e&&(s(e),t(i.b()),o.a.get("/users/current").then((function(n){var e=n.data;return t(i.c(e))})).catch((function(n){return t(i.a(n.message))})))}}},3:function(t,n,e){"use strict";e.d(n,"e",(function(){return r})),e.d(n,"f",(function(){return a})),e.d(n,"d",(function(){return u})),e.d(n,"k",(function(){return o})),e.d(n,"l",(function(){return i})),e.d(n,"j",(function(){return s})),e.d(n,"h",(function(){return b})),e.d(n,"i",(function(){return j})),e.d(n,"g",(function(){return l})),e.d(n,"b",(function(){return d})),e.d(n,"c",(function(){return f})),e.d(n,"a",(function(){return O}));var c=e(4),r=Object(c.b)("/users/login/request"),a=Object(c.b)("/users/login/success"),u=Object(c.b)("/users/login/error"),o=Object(c.b)("/users/signup/request"),i=Object(c.b)("/users/signup/success"),s=Object(c.b)("/users/signup/error"),b=Object(c.b)("/users/logout/request"),j=Object(c.b)("/users/logout/success"),l=Object(c.b)("/users/logout/error"),d=Object(c.b)("/users/current/request"),f=Object(c.b)("/users/current/success"),O=Object(c.b)("/users/current/error")},32:function(t,n,e){t.exports={TaskList:"ContactList_TaskList__1JBPF",TaskList_item:"ContactList_TaskList_item__2hsJR",completed:"ContactList_completed__361rx",TaskList_text:"ContactList_TaskList_text__1Med5",TaskList_actions:"ContactList_TaskList_actions__cKVFr",TaskList_button:"ContactList_TaskList_button__2Hn-I"}},33:function(t,n,e){t.exports={container:"UserMenu_container__162kJ",name:"UserMenu_name__29vc3",button:"UserMenu_button__mVCaK"}},41:function(t,n,e){t.exports={link:"AuthNav_link__WUkCX",activeLink:"AuthNav_activeLink__3UmUu"}},52:function(t,n,e){t.exports={container:"Container_container__1Zezt"}},53:function(t,n,e){t.exports={header:"AppBar_header__2wAI_"}},87:function(t,n,e){"use strict";e.r(n);var c=e(0),r=e.n(c),a=e(26),u=e.n(a),o=e(15),i=e(6),s=e(51),b=e(7),j=e(4),l=Object(j.b)("contacts/fetchContactsRequest"),d=Object(j.b)("contacts/fetchContactsSuccess"),f=Object(j.b)("contacts/fetchContactsError"),O=Object(j.b)("contacts/addContactRequest"),h=Object(j.b)("contacts/addContactSuccess"),p=Object(j.b)("contacts/addContactError"),m=Object(j.b)("contacts/deleteContactRequest"),_=Object(j.b)("contacts/deleteContactSuccess"),v=Object(j.b)("contacts/deleteContactError"),x=Object(j.b)("contacts/filter"),k=e(28),g=function(t){return t.contacts.items},C=function(t){return t.contacts.filter},L=function(t){return t.contacts.loading},T=Object(k.a)([g,C],(function(t,n){var e=n.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(e)}))})),N=e(1),y=Object(i.b)((function(t){return{value:C(t)}}),(function(t){return{onFilter:function(n){return t(x(n.target.value))}}}))((function(t){var n=t.value,e=t.onFilter;return Object(N.jsxs)("div",{children:["Find contacts by name",Object(N.jsx)("input",{type:"text",value:n,onChange:e})]})})),E=e(37),S=e(19),F=e.n(S),w=e(17),A=e.n(w),I=e(24),R=e(13),q=e.n(R),z=Object(i.b)((function(t){return{items:g(t)}}),(function(t){return{onSubmit:function(n,e){return t(function(t,n){return function(e){var c={name:t,number:n};e(O()),q.a.post("/contacts",c).then((function(t){var n=t.data;return e(h(n))})).catch((function(t){return e(p(t.message))}))}}(n,e))}}}))((function(t){var n=t.onSubmit,e=t.items,r=Object(c.useState)(""),a=Object(E.a)(r,2),u=a[0],o=a[1],i=Object(c.useState)(""),s=Object(E.a)(i,2),b=s[0],j=s[1];return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("form",{className:F.a.TaskEditor,onSubmit:function(t){t.preventDefault(),function(){if(e.find((function(t){return u===t.name})))return alert("".concat(u," is already in contacts")),!0}()||(n(u,b),o(""),j(""))},children:[Object(N.jsxs)("label",{className:F.a.TaskEditor_label,children:["Name",Object(N.jsx)("input",{className:F.a.TaskEditor_input,type:"text",name:"name",value:u,onChange:function(t){o(t.target.value)},required:!0})]}),Object(N.jsxs)("label",{className:F.a.TaskEditor_label,children:["Number",Object(N.jsx)("input",{className:F.a.TaskEditor_input,type:"tel",name:"number",value:b,onChange:function(t){j(t.target.value)},required:!0})]}),Object(N.jsx)("button",{className:F.a.TaskEditor_button,children:" Add contact"})]})})})),M=e(32),U=e.n(M),G=Object(i.b)((function(t){return{contacts:T(t)}}),(function(t){return{onDel:function(n){return t(function(t){return function(n){n(m()),q.a.delete("/contacts/".concat(t)).then((function(){return n(_(t))})).catch((function(t){return n(v(t.message))}))}}(n))}}}))((function(t){var n=t.onDel,e=t.contacts,r=Object(i.c)();return Object(c.useEffect)((function(){return r(function(){var t=Object(I.a)(A.a.mark((function t(n){var e,c;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(l()),t.prev=1,t.next=4,q.a.get("/contacts");case 4:e=t.sent,c=e.data,n(d(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(f(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(n){return t.apply(this,arguments)}}())}),[r]),Object(N.jsx)("ul",{className:U.a.TaskList,children:e.map((function(t){var e=t.id,c=t.name,r=t.number;return Object(N.jsxs)("li",{className:U.a.TaskList_item,children:[c," : ",r,Object(N.jsx)("button",{className:U.a.TaskList_button,type:"button",name:"delte",onClick:function(){return n(e)},children:"delete"})]},e)}))})})),H=function(){var t=Object(i.d)(L);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h1",{children:"Phonebook"}),Object(N.jsx)(z,{}),t&&Object(N.jsx)("h1",{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c ..."}),Object(N.jsx)("h2",{children:"Contacts"}),Object(N.jsx)(y,{}),Object(N.jsx)(G,{})]})},B=e(52),J=e.n(B),Z=function(t){var n=t.children;return Object(N.jsx)("div",{className:J.a.container,children:n})},V=e(21),D=e(31),K=function(t){return t.auth.user.email},P=function(t){return t.auth.token},W=function(t){return t.auth.isAuthorized};function X(t){var n=t.children,e=t.redirectTo,c=void 0===e?"/":e,r=Object(D.a)(t,["children","redirectTo"]),a=Object(i.d)(W);return Object(N.jsx)(b.b,Object(V.a)(Object(V.a)({},r),{},{children:a?n:Object(N.jsx)(b.a,{to:c})}))}function Q(t){var n=t.children,e=t.redirectTo,c=Object(D.a)(t,["children","redirectTo"]),r=Object(i.d)(W)&&c.restricted;return Object(N.jsx)(b.b,Object(V.a)(Object(V.a)({},c),{},{children:r?Object(N.jsx)(b.a,{to:e}):n}))}var Y=e(41),$=e.n(Y),tt={HOME:"/",MOVIES:"/movies",CONTACTS:"/contacts",REGISTER:"/register",LOGIN:"/login"},nt=function(){var t={activeLink:{color:"#ffffff",backgroundColor:"rgb(70, 100, 100)",borderColor:"rgb(50, 80, 100)"}};return Object(N.jsxs)("div",{children:[Object(N.jsx)(o.b,{to:tt.REGISTER,className:$.a.link,activeStyle:t.activeLink,children:"Sign up"}),Object(N.jsx)(o.b,{to:tt.LOGIN,className:$.a.link,activeStyle:t.activeLink,children:"Sign in"})]})},et=e(18),ct=e.n(et),rt=function(){var t=Object(i.d)(W);return Object(N.jsx)("nav",{children:Object(N.jsxs)("ul",{className:ct.a.navList,children:[Object(N.jsx)("li",{className:ct.a.navListItem,children:Object(N.jsx)(o.b,{exact:!0,to:tt.HOME,className:ct.a.Link,activeClassName:ct.a.linkFocusColor,children:"Home"})}),t&&Object(N.jsx)("li",{className:ct.a.navListItem,children:Object(N.jsx)(o.b,{to:tt.CONTACTS,className:ct.a.Link,activeClassName:ct.a.linkFocusColor,children:"Contacts"})})]})})},at=e(25),ut=e(33),ot=e.n(ut);function it(){var t=Object(i.c)(),n=Object(i.d)(K);return Object(N.jsxs)("div",{className:ot.a.container,children:[Object(N.jsxs)("span",{className:ot.a.name,children:["Hello, ",n,"!"]}),Object(N.jsx)("button",{className:ot.a.button,type:"button",onClick:function(){return t(Object(at.c)())},children:"Log out"})]})}var st,bt,jt,lt,dt,ft,Ot,ht,pt=e(53),mt=e.n(pt),_t=function(){var t=Object(i.d)(P);return Object(N.jsxs)("header",{className:mt.a.header,children:[Object(N.jsx)(rt,{}),t?Object(N.jsx)(it,{}):Object(N.jsx)(nt,{})]})},vt=Object(i.b)((function(t){return{loading:L(t)}}),null)((function(){var t=Object(c.lazy)((function(){return e.e(0).then(e.bind(null,90))})),n=Object(c.lazy)((function(){return e.e(3).then(e.bind(null,91))})),r=Object(c.lazy)((function(){return e.e(1).then(e.bind(null,92))})),a=Object(i.c)();return Object(c.useEffect)((function(){a(Object(at.a)())}),[a]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Z,{children:Object(N.jsxs)(c.Suspense,{fallback:Object(N.jsx)("p",{children:"Loading..."}),children:[Object(N.jsx)(_t,{}),Object(N.jsxs)(b.d,{children:[Object(N.jsx)(Q,{exact:!0,path:"/",restricted:!0,redirectTo:"/contacts",children:Object(N.jsx)(t,{})}),Object(N.jsx)(X,{path:"/contacts",redirectTo:"/login",children:Object(N.jsx)(H,{})}),Object(N.jsx)(Q,{path:"/register",restricted:!0,redirectTo:"/contacts",children:Object(N.jsx)(n,{})}),Object(N.jsx)(Q,{path:"/login",restricted:!0,redirectTo:"/contacts",children:Object(N.jsx)(r,{})})]})]})})})})),xt=e(30),kt=e(54),gt=e.n(kt),Ct=e(55),Lt=e.n(Ct),Tt=e(16),Nt=e(2),yt=e(8),Et=Object(j.c)([],(st={},Object(Nt.a)(st,d,(function(t,n){return n.payload})),Object(Nt.a)(st,h,(function(t,n){return[n.payload].concat(Object(xt.a)(t))})),Object(Nt.a)(st,_,(function(t,n){var e=n.payload;return t.filter((function(t){return t.id!==e}))})),st)),St=Object(j.c)("",Object(Nt.a)({},x,(function(t,n){return n.payload}))),Ft=Object(j.c)(!1,(bt={},Object(Nt.a)(bt,l,(function(){return!0})),Object(Nt.a)(bt,d,(function(){return!1})),Object(Nt.a)(bt,f,(function(){return!1})),Object(Nt.a)(bt,O,(function(){return!0})),Object(Nt.a)(bt,h,(function(){return!1})),Object(Nt.a)(bt,p,(function(){return!1})),Object(Nt.a)(bt,m,(function(){return!0})),Object(Nt.a)(bt,_,(function(){return!1})),Object(Nt.a)(bt,v,(function(){return!1})),bt)),wt=Object(j.c)(null,(jt={},Object(Nt.a)(jt,f,(function(t,n){return n.payload})),Object(Nt.a)(jt,p,(function(t,n){return n.payload})),Object(Nt.a)(jt,v,(function(t,n){return n.payload})),Object(Nt.a)(jt,l,(function(){return null})),Object(Nt.a)(jt,O,(function(){return null})),Object(Nt.a)(jt,m,(function(){return null})),jt)),At=Object(yt.c)({items:Et,filter:St,loading:Ft,error:wt}),It=e(3),Rt={name:null,email:null},qt=Object(j.c)(!1,(lt={},Object(Nt.a)(lt,It.f,(function(){return!0})),Object(Nt.a)(lt,It.l,(function(){return!0})),Object(Nt.a)(lt,It.c,(function(){return!0})),Object(Nt.a)(lt,It.i,(function(){return!1})),Object(Nt.a)(lt,It.a,(function(){return!1})),Object(Nt.a)(lt,It.d,(function(){return!1})),Object(Nt.a)(lt,It.j,(function(){return!1})),lt)),zt=Object(j.c)(!1,(dt={},Object(Nt.a)(dt,It.b,(function(){return!0})),Object(Nt.a)(dt,It.c,(function(){return!1})),Object(Nt.a)(dt,It.a,(function(){return!1})),Object(Nt.a)(dt,It.e,(function(){return!0})),Object(Nt.a)(dt,It.f,(function(){return!1})),Object(Nt.a)(dt,It.d,(function(){return!1})),Object(Nt.a)(dt,It.h,(function(){return!0})),Object(Nt.a)(dt,It.i,(function(){return!1})),Object(Nt.a)(dt,It.g,(function(){return!1})),Object(Nt.a)(dt,It.k,(function(){return!0})),Object(Nt.a)(dt,It.l,(function(){return!1})),Object(Nt.a)(dt,It.j,(function(){return!1})),dt)),Mt=Object(j.c)(Rt,(ft={},Object(Nt.a)(ft,It.l,(function(t,n){return n.payload.user})),Object(Nt.a)(ft,It.f,(function(t,n){return n.payload.user})),Object(Nt.a)(ft,It.i,(function(){return Rt})),Object(Nt.a)(ft,It.c,(function(t,n){return n.payload})),ft)),Ut=Object(j.c)(null,(Ot={},Object(Nt.a)(Ot,It.l,(function(t,n){return n.payload.token})),Object(Nt.a)(Ot,It.f,(function(t,n){return n.payload.token})),Object(Nt.a)(Ot,It.i,(function(){return null})),Ot)),Gt=Object(j.c)(null,(ht={},Object(Nt.a)(ht,It.j,(function(){return function(t,n){return n.payload}})),Object(Nt.a)(ht,It.d,(function(){return function(t,n){return n.payload}})),Object(Nt.a)(ht,It.a,(function(){return function(t,n){return n.payload}})),Object(Nt.a)(ht,It.g,(function(){return function(t,n){return n.payload}})),ht)),Ht=Object(yt.c)({user:Mt,token:Ut,isLoading:zt,error:Gt,isAuthorized:qt}),Bt=[].concat(Object(xt.a)(Object(j.d)({serializableCheck:{ignoredActions:[Tt.a,Tt.f,Tt.b,Tt.c,Tt.d,Tt.e]}})),[gt.a]),Jt={key:"auth",storage:Lt.a,whiteList:["token"]},Zt=Object(j.a)({reducer:{contacts:At,auth:Object(Tt.g)(Jt,Ht)},middleware:Bt,devTools:!1}),Vt={store:Zt,persistor:Object(Tt.h)(Zt)};u.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(i.a,{store:Vt.store,children:Object(N.jsx)(s.a,{loading:null,persistor:Vt.persistor,children:Object(N.jsx)(o.a,{children:Object(N.jsx)(vt,{})})})})}),document.getElementById("root"))}},[[87,4,5]]]);
//# sourceMappingURL=main.071412dd.chunk.js.map